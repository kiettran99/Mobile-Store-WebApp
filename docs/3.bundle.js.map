{"version":3,"sources":["webpack:///./src/actions/product.js","webpack:///./src/components/products/product-forms/AddProduct.js"],"names":["i","getProducts","async","res","axios","get","urlAPI","dispatch","type","GET_PRODUCTS","payload","data","e","console","log","PRODUCT_ERROR","getProduct","id","GET_PRODUCT","addProduct","formData","history","config","headers","post","ADD_PRODUCT","setAlert","push","connect","withRouter","setFormData","useState","name","price","description","manufacturer","category","conditionProduct","quantity","image","onChange","target","value","className","onSubmit","preventDefault","alert","FormData","append","encType","for","required","placeholder","files","width","height","src","URL","createObjectURL"],"mappings":"yFAAA,+DAAAA,KAAA,8EAOO,MAAMC,EAAc,IAAMC,UAC7B,IACI,MAAMC,QAAYC,IAAMC,IAAOC,IAAF,iBAE7BC,EAAS,CACLC,KAAMC,IACNC,QAASP,EAAIQ,OAGrB,MAAOC,GACHC,QAAQC,IAAIF,GACZL,EAAS,CACLC,KAAMO,IACNL,QAASP,IAAIQ,SAKZK,EAAcC,GAAOf,UAC9B,IACI,MAAMC,QAAYC,IAAMC,IAAK,GAAEC,oBAAuBW,KAEtDV,EAAS,CACLC,KAAMU,IACNR,QAASP,EAAIQ,OAGrB,MAAOC,GACHL,EAAS,CACLC,KAAMO,IACNL,QAASP,IAAIQ,SAKZQ,EAAa,CAACC,EAAUC,IAAYnB,UAC7C,IACIW,QAAQC,IAAI,4BACZ,MAAMQ,EAAS,CACXC,QAAS,CACL,eAAgB,wBAIlBpB,QAAYC,IAAMoB,KAAQlB,IAAF,gBAAyBc,EAAUE,GACjET,QAAQC,IAAIX,GACZI,EAAS,CACLC,KAAMiB,IACNf,QAASP,EAAIQ,OAGjBJ,EAASmB,YAAS,2BAA4B,YAE9CL,EAAQM,KAAK,KAEjB,MAAOf,GACHC,QAAQC,IAAIF,GACZL,EAAS,CACLC,KAAMO,IACNL,QAASP,IAAIQ,U,ywBCmGViB,sBAAQ,KAAM,CAAET,gBAAhBS,CAA8BC,YAhK1B,EAAGV,aAAYE,cAE9B,MAAOD,EAAUU,GAAeC,mBAAS,CACrCC,KAAM,GACNC,MAAO,GACPC,YAAa,GACbC,aAAc,GACdC,SAAU,GACVC,iBAAkB,GAClBC,SAAU,GACVC,MAAO,QAGL,KACFP,EADE,MAEFC,EAFE,YAGFC,EAHE,aAIFC,EAJE,SAKFC,EALE,iBAMFC,EANE,SAOFC,EAPE,MAQFC,GACAnB,EAsBEoB,EAAY5B,GAAMkB,EAAY,EAAD,KAAMV,GAAN,IAAgB,CAACR,EAAE6B,OAAOT,MAAOpB,EAAE6B,OAAOC,SAE7E,OACI,yBAAKC,UAAU,aACX,0BAAMC,SAAUhC,GAxBNA,KAGd,GAFAA,EAAEiC,kBAEGN,EACD,OAAOO,MAAM,yBAGjB,MAAM1B,EAAW,IAAI2B,SACrB3B,EAAS4B,OAAO,OAAQhB,GACxBZ,EAAS4B,OAAO,QAASf,GACzBb,EAAS4B,OAAO,cAAed,GAC/Bd,EAAS4B,OAAO,eAAgBb,GAChCf,EAAS4B,OAAO,WAAYZ,GAC5BhB,EAAS4B,OAAO,mBAAoBX,GACpCjB,EAAS4B,OAAO,WAAYV,GAC5BlB,EAAS4B,OAAO,QAAST,GAEzBpB,EAAWC,EAAUC,IAjBPT,CAwBoBA,GAC1B+B,UAAU,kBAAkBM,QAAQ,uBACpC,kCACI,4BAAQN,UAAU,QAAlB,YACA,yBAAKA,UAAU,cACX,2BAAOA,UAAU,yBAAyBO,IAAI,gBAA9C,gBACA,yBAAKP,UAAU,YACX,2BAAO1B,GAAG,eACNuB,SAAU5B,GAAK4B,EAAS5B,GACxB8B,MAAOV,EACPA,KAAK,OAAOW,UAAU,wBAAwBQ,YAAgB3C,KAAK,WAI/E,yBAAKmC,UAAU,cACX,2BAAOA,UAAU,yBAAyBO,IAAI,cAA9C,cACA,yBAAKP,UAAU,YACX,2BAAO1B,GAAG,aAAae,KAAK,QACxBQ,SAAU5B,GAAK4B,EAAS5B,GACxB8B,MAAOT,EACPmB,YAAY,GAAGT,UAAU,wBAAwBQ,YACjD3C,KAAK,WAIjB,yBAAKmC,UAAU,cACX,2BAAOA,UAAU,yBAAyBO,IAAI,kBAA9C,kBACA,yBAAKP,UAAU,YACX,2BAAO1B,GAAG,iBACNuB,SAAU5B,GAAK4B,EAAS5B,GACxB8B,MAAOJ,EACPN,KAAK,WAAWoB,YAAY,GAAGT,UAAU,wBAAwBQ,YACjE3C,KAAK,aAIjB,yBAAKmC,UAAU,cACX,2BAAOA,UAAU,yBAAyBO,IAAI,qBAA9C,qBACA,yBAAKP,UAAU,YACX,2BAAO1B,GAAG,oBACNuB,SAAU5B,GAAK4B,EAAS5B,GACxB8B,MAAOL,EACPL,KAAK,mBAAmBoB,YAAY,GAAGT,UAAU,wBAAwBQ,YACzE3C,KAAK,WAIjB,yBAAKmC,UAAU,cACX,2BAAOA,UAAU,yBAAyBO,IAAI,eAA9C,eACA,yBAAKP,UAAU,YACX,8BAAU1B,GAAG,cAAce,KAAK,cAC5BQ,SAAU5B,GAAK4B,EAAS5B,GACxB8B,MAAOR,EACPS,UAAU,wBACVQ,YAAgB3C,KAAK,WAIjC,yBAAKmC,UAAU,cACX,2BAAOA,UAAU,yBAAyBO,IAAI,gBAA9C,gBACA,yBAAKP,UAAU,YACX,2BAAO1B,GAAG,eACNuB,SAAU5B,GAAK4B,EAAS5B,GACxB8B,MAAOP,EACPH,KAAK,eAAeW,UAAU,wBAC9BQ,YAAgB3C,KAAK,WAIjC,yBAAKmC,UAAU,cACX,2BAAOA,UAAU,yBAAyBO,IAAI,YAA9C,YACA,yBAAKP,UAAU,YACX,8BAAUA,UAAU,eAChBH,SAAU5B,GAAK4B,EAAS5B,GACxB8B,MAAON,EACPnB,GAAG,WAAWe,KAAK,eAI/B,yBAAKW,UAAU,cACX,2BAAOA,UAAU,yBAAyBO,IAAI,cAA9C,cACA,yBAAKP,UAAU,YACX,2BAAO1B,GAAG,aAAae,KAAK,QAAQW,UAAU,aAAanC,KAAK,OAC5DgC,SAAU5B,IACNA,EAAEiC,iBACF,MAAMN,EAAQ3B,EAAE6B,OAAOY,MAAM,GAE7BvB,EAAY,EAAD,KACJV,GADI,IAEPmB,gBAMnBA,GAAS,yBAAKI,UAAU,cACrB,yBAAKW,MAAO,IAAKC,OAAQ,IAAKC,IAAKC,IAAIC,gBAAgBnB,MAK3D,yBAAKI,UAAU,cACX,yBAAKA,UAAU,YACX,4BAAQ1B,GAAG,eAAeT,KAAK,SAASwB,KAAK,eAAeW,UAAU,mBAAtE","file":"3.bundle.js","sourcesContent":["import {\r\n    GET_PRODUCT, GET_PRODUCTS, ADD_PRODUCT, PRODUCT_ERROR\r\n} from './types';\r\nimport urlAPI from '../utils/urlAPI';\r\nimport axios from 'axios';\r\nimport { setAlert } from '../actions/alert';\r\n\r\nexport const getProducts = () => async dispatch => {\r\n    try {\r\n        const res = await axios.get(`${urlAPI}/api/products`);\r\n\r\n        dispatch({\r\n            type: GET_PRODUCTS,\r\n            payload: res.data\r\n        });\r\n    }\r\n    catch (e) {\r\n        console.log(e);\r\n        dispatch({\r\n            type: PRODUCT_ERROR,\r\n            payload: res.data\r\n        });\r\n    }\r\n};\r\n\r\nexport const getProduct = (id) => async dispatch => {\r\n    try {\r\n        const res = await axios.get(`${urlAPI}/api/products/${id}`);\r\n\r\n        dispatch({\r\n            type: GET_PRODUCT,\r\n            payload: res.data\r\n        });\r\n    }\r\n    catch (e) {\r\n        dispatch({\r\n            type: PRODUCT_ERROR,\r\n            payload: res.data\r\n        });\r\n    }\r\n};\r\n\r\nexport const addProduct = (formData, history) => async dispatch => {\r\n    try {\r\n        console.log('Request create a product');\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        };\r\n\r\n        const res = await axios.post(`${urlAPI}/api/products`, formData, config);\r\n        console.log(res);\r\n        dispatch({\r\n            type: ADD_PRODUCT,\r\n            payload: res.data\r\n        });\r\n\r\n        dispatch(setAlert('Add product successfully', 'success'));\r\n\r\n        history.push('/');\r\n    }\r\n    catch (e) {\r\n        console.log(e);\r\n        dispatch({\r\n            type: PRODUCT_ERROR,\r\n            payload: res.data\r\n        });\r\n    }\r\n};","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { addProduct } from '../../../actions/product';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nconst AddProduct = ({ addProduct, history }) => {\r\n\r\n    const [formData, setFormData] = useState({\r\n        name: '',\r\n        price: '',\r\n        description: '',\r\n        manufacturer: '',\r\n        category: '',\r\n        conditionProduct: '',\r\n        quantity: '',\r\n        image: null\r\n    });\r\n\r\n    const {\r\n        name,\r\n        price,\r\n        description,\r\n        manufacturer,\r\n        category,\r\n        conditionProduct,\r\n        quantity,\r\n        image,\r\n    } = formData;\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        if (!image) {\r\n            return alert(\"Please upload image !\");\r\n        }\r\n\r\n        const formData = new FormData();\r\n        formData.append('name', name);\r\n        formData.append('price', price);\r\n        formData.append('description', description);\r\n        formData.append('manufacturer', manufacturer);\r\n        formData.append('category', category);\r\n        formData.append('conditionProduct', conditionProduct);\r\n        formData.append('quantity', quantity);\r\n        formData.append('image', image);\r\n\r\n        addProduct(formData, history);\r\n    };\r\n\r\n    const onChange = (e) => setFormData({ ...formData, [e.target.name]: e.target.value });\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <form onSubmit={e => onSubmit(e)}\r\n                className=\"form-horizontal\" encType=\"multipart/form-data\">\r\n                <fieldset>\r\n                    <legend className=\"ml-3\">PRODUCTS</legend>\r\n                    <div className=\"form-group\">\r\n                        <label className=\"col-md-4 control-label\" for=\"product_name\">Product Name</label>\r\n                        <div className=\"col-md-4\">\r\n                            <input id=\"product_name\"\r\n                                onChange={e => onChange(e)}\r\n                                value={name}\r\n                                name=\"name\" className=\"form-control input-md\" required={true} type=\"text\" />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <label className=\"col-md-4 control-label\" for=\"Unit Price\">Unit Price</label>\r\n                        <div className=\"col-md-4\">\r\n                            <input id=\"Unit Price\" name=\"price\"\r\n                                onChange={e => onChange(e)}\r\n                                value={price}\r\n                                placeholder=\"\" className=\"form-control input-md\" required={true}\r\n                                type=\"text\" />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <label className=\"col-md-4 control-label\" for=\"Units In Stock\">Units In Stock</label>\r\n                        <div className=\"col-md-4\">\r\n                            <input id=\"Units In Stock\"\r\n                                onChange={e => onChange(e)}\r\n                                value={quantity}\r\n                                name=\"quantity\" placeholder=\"\" className=\"form-control input-md\" required={true}\r\n                                type=\"number\" />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <label className=\"col-md-4 control-label\" for=\"Condition Product\">Condition Product</label>\r\n                        <div className=\"col-md-4\">\r\n                            <input id=\"Condition Product\"\r\n                                onChange={e => onChange(e)}\r\n                                value={conditionProduct}\r\n                                name=\"conditionProduct\" placeholder=\"\" className=\"form-control input-md\" required={true}\r\n                                type=\"text\" />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <label className=\"col-md-4 control-label\" for=\"Description\">Description</label>\r\n                        <div className=\"col-md-4\">\r\n                            <textarea id=\"Description\" name=\"description\"\r\n                                onChange={e => onChange(e)}\r\n                                value={description}\r\n                                className=\"form-control input-md\"\r\n                                required={true} type=\"text\"></textarea>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <label className=\"col-md-4 control-label\" for=\"Manufacturer\">Manufacturer</label>\r\n                        <div className=\"col-md-4\">\r\n                            <input id=\"Manufacturer\"\r\n                                onChange={e => onChange(e)}\r\n                                value={manufacturer}\r\n                                name=\"manufacturer\" className=\"form-control input-md\"\r\n                                required={true} type=\"text\" />\r\n\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label className=\"col-md-4 control-label\" for=\"Category\">Category</label>\r\n                        <div className=\"col-md-4\">\r\n                            <textarea className=\"form-control\"\r\n                                onChange={e => onChange(e)}\r\n                                value={category}\r\n                                id=\"Category\" name=\"category\"></textarea>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <label className=\"col-md-4 control-label\" for=\"filebutton\">main_image</label>\r\n                        <div className=\"col-md-4\">\r\n                            <input id=\"filebutton\" name=\"image\" className=\"input-file\" type=\"file\"\r\n                                onChange={e => {\r\n                                    e.preventDefault();\r\n                                    const image = e.target.files[0];\r\n\r\n                                    setFormData({\r\n                                        ...formData,\r\n                                        image\r\n                                    })\r\n                                }} />\r\n                        </div>\r\n                    </div>\r\n\r\n                    {image && <div className=\"form-group\">\r\n                        <img width={300} height={200} src={URL.createObjectURL(image)} />\r\n                    </div>\r\n                    }\r\n\r\n\r\n                    <div className=\"form-group\">\r\n                        <div className=\"col-md-4\">\r\n                            <button id=\"singlebutton\" type=\"submit\" name=\"singlebutton\" className=\"btn btn-primary\">Add Product</button>\r\n                        </div>\r\n                    </div>\r\n                </fieldset>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default connect(null, { addProduct })(withRouter(AddProduct));"],"sourceRoot":""}